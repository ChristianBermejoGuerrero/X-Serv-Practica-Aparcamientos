{% load staticfiles %}

<!DOCTYPE html>
<html>
  <title>Portal de Informacion sobre Parkings de Madrid</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">
  <link rel="shortcut icon" type="image/png" href="https://lh3.googleusercontent.com/yLsosp6AXVSZDMrDVRda3O9XZ5fZlxsdzNYINE0AE03jLzIxcfuEuIW0VF3lf_lO2ftG=w300"/>
  <style>
    html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif}
    body {
      background-image: url("https://inspirationhut.net/wp-content/uploads/2013/05/201.png");
    }
    .mySlides {display:none}
    .w3-left, .w3-right, .w3-badge {cursor:pointer}
    .w3-badge {height:13px;width:13px;padding:0}
    {% block style %}
    {% endblock style%}
    .w3-allerta {
      font-family: "Allerta Stencil", Sans-serif;
    }
  </style>

  <body>

<div class="w3-content w3-display-container" style="min-height:350px;max-height:400px;min-width:1420px;max-width=1420">
  <img class="mySlides" src="http://www.santos2013.es/ImagenFondo05.jpg" style="width:100%;min-height:380px;max-height:420px;min-width:1420px;max-width=1420">
    <div class="w3-display-middle">
      <h1 class="w3-xxxlarge w3-animate-top w3-text-white">Encuentra parking en Madrid</h1>
      <hr class="w3-border-white" style="margin:auto;width:70%">
    </div>
  <img class="mySlides" src="http://a1.odistatic.net/images/landingpages/vacation/1920x800/madrid_1920x800.jpg" style="width:100%;min-height:380px;max-height:420px;min-width:1420px;max-width=1420">
  <img class="mySlides" src="http://www.zastavki.com/pictures/1920x1080/2014/World___Spain_Arc_de_Triomphe_in_Madrid_058599_23.jpg" style="width:100%;min-height:380px;max-height:420px;min-width:1420px;max-width=1420">
  <div class="w3-center w3-container w3-section w3-large w3-text-white w3-display-bottommiddle" style="width:100%">
    <div class="w3-left w3-hover-text-khaki" onclick="plusDivs(-1)">&#10094;</div>
    <div class="w3-right w3-hover-text-khaki" onclick="plusDivs(1)">&#10095;</div>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(1)"></span>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(2)"></span>
    <span class="w3-badge demo w3-border w3-transparent w3-hover-white" onclick="currentDiv(3)"></span>
  </div>
</div>


    <!-- Navbar -->
    <!-- Navbar (sit on top) -->
    <div class="w3-top">
      <div class="w3-bar" id="myNavbar">
        <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
          <i class="fa fa-bars"></i>
        </a>
        <a href="/" class="w3-bar-item w3-button w3-text-red w3-large w3-theme-l1"><b>HOME</b></a>
        <a href="/aparcamientos" class="w3-bar-item w3-button w3-text-red w3-large"><i class="fa fa-user"></i><b>TODOS</b></a>
        <a href="/about" class="w3-bar-item w3-button w3-text-red w3-large"><i class="fa fa-th"><b></i>ABOUT</b></a>
          <i class="fa fa-search"></i>
        </a>
      </div>
    </div>

    <!-- Main content: shift it to the right by 250 pixels when the sidebar is visible -->
    <div class="w3-container ">
    <!-- bar -->

      {% block leftsidebar %}
      {% endblock leftsidebar %}

      {% block central %}
      {% endblock central %}
      <div class="w3-quarter w3-container">
      	<div class="w3-border w3-padding-large w3-padding-32 w3-center " style="margin-top:80px;margin-left:10px;margin-right:-10px">
          <div>
            {% if user.is_authenticated %}
              <h3>Identificado como:</h3>
                <p class="w3-xlarge" style="margin-top:10px;"><i>{{ user.username }}</i></p>
                  <form class="w3-container" action="/logout" method ="POST">
                  {% csrf_token %}
                    <button class="w3-button w3-black" style="margin-top:0px">Logout</button>
                </form>
            {% else %}
              <form class="w3-container" style="" action="/login" method ="POST">
                {% csrf_token %}
                <h3>Identifícate</h3>
                <p><input class="w3-input" type="text" name="nombre" placeholder="Nombre"></p>
                <p><input class="w3-input" type="password" name="contra" placeholder="Contraseña"></p>
                <button class="w3-button w3-black" style="margin-top:10px;">Login</button>
              </form>
            {% endif %}
          </div>
      	</div>
      </div>
      {% block rightsidebar %}
      {% endblock rightsidebar %}
    </div>

    <footer>
      <div class="w3-container w3-theme-l2 w3-padding-16" style="margin-top:30px">
        <p><h4>Esta aplicación utiliza datos del portal de datos abiertos de la ciudad de Madrid. <a href="http://datos.munimadrid.es/portal/site/egob/menuitem.ac61933d6ee3c31cae77ae7784f1a5a0/?vgnextoid=00149033f2201410VgnVCM100000171f5a0aRCRD&format=xml&file=0&filename=202584-0-aparcamientos-residentes&mgmtid=e84276ac109d3410VgnVCM2000000c205a0aRCRD&preview=full">Enlace aquí.</a></p>
        <p><h4> </h4></p>
      </div>
      <div class="w3-container w3-theme-l1">
        <p><h5>Autor: Christian Bermejo Guerrero | cbermejog7@gmail.com |</a></p>
      </div>
    </footer>

<script>
    // Change style of navbar on scroll
    window.onscroll = function() {myFunction()};
    function myFunction() {
        var navbar = document.getElementById("myNavbar");
        if (document.body.scrollTop > 350 || document.documentElement.scrollTop > 350) {
            navbar.className = "w3-bar" + " w3-card-2" + " w3-animate-top" + " w3-white";
        } else {
            navbar.className = navbar.className.replace(" w3-card-2 w3-animate-top w3-white", "");
        }
    }

    // Used to toggle the menu on small screens when clicking on the menu button
    function toggleFunction() {
        var x = document.getElementById("navDemo");
        if (x.className.indexOf("w3-show") == -1) {
            x.className += " w3-show";
        } else {
            x.className = x.className.replace(" w3-show", "");
        }
    }
    var slideIndex = 1;
    showDivs(slideIndex);

    function plusDivs(n) {
      showDivs(slideIndex += n);
    }

    function currentDiv(n) {
      showDivs(slideIndex = n);
    }

    function showDivs(n) {
      var i;
      var x = document.getElementsByClassName("mySlides");
      var dots = document.getElementsByClassName("demo");
      if (n > x.length) {slideIndex = 1}
      if (n < 1) {slideIndex = x.length}
      for (i = 0; i < x.length; i++) {
         x[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
         dots[i].className = dots[i].className.replace(" w3-white", "");
      }
      x[slideIndex-1].style.display = "block";
      dots[slideIndex-1].className += " w3-white";
    }
    </script>

  </body>
</html>
